/*
 jsSMS - A Sega Master System/GameGear emulator in JavaScript
 Copyright (C) 2012  Guillaume Marty (https://github.com/gmarty)
 Based on JavaGear Copyright (c) 2002-2008 Chris White.

 This program is free software: you can redistribute it and/or modify
 it under the terms of the GNU General Public License as published by
 the Free Software Foundation, either version 3 of the License, or
 (at your option) any later version.

 This program is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 GNU General Public License for more details.

 You should have received a copy of the GNU General Public License
 along with this program.  If not, see <http://www.gnu.org/licenses/>.
*/
'use strict';var j=void 0,l=!0,aa=null,m=!1;function ba(){return function(){}}var ca=!(!window.DataView||!window.ArrayBuffer);function da(a){this.ub={ui:ea,swfPath:"lib/"};if("undefined"!=typeof a)for(var d in this.ub)"undefined"!=typeof a[d]&&(this.ub[d]=a[d]);this.T=new fa(this);this.Oa=new a.ui(this);this.v=new ga(this);this.xa=new ha(this);this.ports=new ia(this);this.D=new ja(this);this.Oa.updateStatus("Ready to load a ROM.")}
da.prototype={ua:m,Ua:0,L:0,rb:0,Da:0,Fa:0,Ia:m,$:l,S:m,La:l,Aa:[],Ba:0,Ka:0,ya:[],pb:0,ob:0,Ea:0,Db:0,eb:"",fb:"",reset:function(){var a=this.v.ib,d=0;0==a||this.S?(this.Da=60,this.L=262,d=3579545):1==a&&(this.Da=50,this.L=313,d=3546893);this.Ua=Math.round(d/this.Da/this.L+1);this.v.ib=a;if(this.La){a=this.xa;a.nb=(d<<8)/16/44100;a.M=0;a.G=0;a.la=16;a.V=32768;for(d=0;4>d;d++)a.C[d<<1]=1,a.C[(d<<1)+1]=15,a.A[d]=0,a.J[d]=1,3!=d&&(a.fa[d]=ka);this.Ka=Math.round(44100/this.Da);if(0==this.Aa.length||
this.Aa.length!=this.Ka)this.Aa=Array(this.Ka);if(0==this.ya.length||this.ya.length!=this.L){this.ya=Array(this.L);for(var g=0,d=0;d<this.L;d++)a=(this.Ka<<16)/this.L+g,g=a-(a>>16<<16),this.ya[d]=a>>16}}this.Db=0;this.Fa=this.rb;this.T.reset();this.Oa.reset();this.v.reset();this.ports.reset();this.D.reset();pa(this.D,aa)},start:function(){var a=this;this.ua||(this.ua=l);requestAnimationFrame(this.frame.bind(this));this.ab=aa;this.Ea=0;sa(this);this.Cb=setInterval(function(){sa(a)},500)},stop:function(){clearInterval(this.Cb);
this.ua=m},frame:function(){if(this.ua){var a;for(a=0;a<this.L;a++){if(193==a){ta(this.D,this.Ua,8);var d=this.v;d.status|=128;ta(this.D,0,0)}else ta(this.D,this.Ua,0);this.La&&(d=a,0==d&&(this.Ba=0),d=this.ya[d],this.Aa=this.xa.update(this.Ba,d),this.Ba+=d);this.v.ia=a;if(0==this.Fa&&192>a){var g=this.v,d=a;if(!g.m.S||!(24>d||168<=d)){for(var h=g.X.length;h--;)g.X[h]=m;if(0!=(g.t[1]&64)){if(-1!=g.aa){for(var h=g,k=h.ka;k<=h.aa;k++)if(h.va[k]){h.va[k]=m;for(var q=h.Na[k],n=0,s=k<<5,v=0;8>v;v++)for(var E=
h.B[s++],u=h.B[s++],I=h.B[s++],D=h.B[s++],G=128;0!=G;G>>=1){var B=0;0!=(E&G)&&(B|=1);0!=(u&G)&&(B|=2);0!=(I&G)&&(B|=4);0!=(D&G)&&(B|=8);q[n++]=B}}h.ka=512;h.aa=-1}h=g;k=d;q=h.t[8];E=h.hb;16>k&&0!=(h.t[0]&64)&&(q=0);n=h.t[0]&128;s=32-(q>>3)+h.Ga;v=k+E>>3;27<v&&(v-=28);E=(k+(E&7)&7)<<3;u=k<<8;for(I=h.Ga;I<h.Za;I++){var qa=h.Sa+((s&31)<<1)+(v<<6),D=h.B[qa+1],G=(D&8)<<1,B=(I<<3)+(q&7),X=0==(D&4)?E:56-E,qa=h.Na[(h.B[qa]&255)+((D&1)<<8)];if(0==(D&2))for(var Y=0;8>Y&&256>B;Y++,B++){var ra=qa[Y+X];h.oa[B]=
0!=(D&16)&&0!=ra;h.display[B+u]=h.H[ra+G]}else for(Y=7;0<=Y&&256>B;Y--,B++)ra=qa[Y+X],h.oa[B]=0!=(D&16)&&0!=ra,h.display[B+u]=h.H[ra+G];s++;0!=n&&23==I&&(v=k>>3,E=(k&7)<<3)}if(g.R){h=g;h.R=m;for(k=0;k<h.ja.length;k++)h.ja[k][0]=0;k=0==(h.t[1]&2)?8:16;1==(h.t[1]&1)&&(k<<=1);for(q=0;64>q;q++){n=h.B[h.I+q]&255;if(208==n)break;n++;240<n&&(n-=256);for(s=0;192>s;s++)s>=n&&s-n<k&&(v=h.ja[s],8>v[0]&&(E=3*v[0]+1,u=h.I+(q<<1)+128,v[E++]=h.B[u++]&255,v[E++]=n,v[E++]=h.B[u]&255,v[0]++))}}if(0!=g.ja[d][0]){h=
g;k=d;q=h.ja[k];E=Math.min(8,q[0]);n=h.t[1]&1;s=k<<8;for(v=3*E;E--;)if(I=q[v--]|(h.t[6]&4)<<6,D=q[v--],u=q[v--]-(h.t[0]&8),G=k-D>>n,0!=(h.t[1]&2)&&(I&=-2),I=h.Na[I+((G&8)>>3)],D=0,0>u&&(D=-u,u=0),G=D+((G&7)<<3),0==n)for(;8>D&&256>u;D++,u++)B=I[G++],0!=B&&!h.oa[u]&&(h.display[u+s]=h.H[B+16],h.X[u]?h.status|=32:h.X[u]=l);else for(;8>D&&256>u;D++,u+=2)B=I[G++],0!=B&&!h.oa[u]&&(h.display[u+s]=h.H[B+16],h.X[u]?h.status|=32:h.X[u]=l),0!=B&&!h.oa[u+1]&&(h.display[u+s+1]=h.H[B+16],h.X[u+1]?h.status|=32:h.X[u+
1]=l);8<=q[0]&&(h.status|=64)}if(g.m.$&&0!=(g.t[0]&32)){h=g.H[16+(g.t[7]&15)];d<<=8;if(32<16+(g.t[7]&15))debugger;if(49152<d)debugger;g.display[d++]=h;g.display[d++]=h;g.display[d++]=h;g.display[d++]=h;g.display[d++]=h;g.display[d++]=h;g.display[d++]=h;g.display[d]=h}}else{h=g.H[16+(g.t[7]&15)];d<<=8;k=j;for(k=0;256>k;k++)g.display[d++]=h}}}d=this.v;g=a;192>=g?(0==d.qa?(d.qa=d.t[10],d.status|=4):d.qa--,0!=(d.status&4)&&0!=(d.t[0]&16)&&(d.m.D.Q=l)):(d.qa=d.t[10],0!=(d.status&128)&&(0!=(d.t[1]&32)&&
224>g)&&(d.m.D.Q=l),g==d.m.L-1&&(d.hb=d.t[9]))}this.Ia&&(a=this.D,a.P=a.O,a.O=m,a.ha&&(a.b++,a.ha=m),a.push(a.b),a.b=102,a.l-=11,this.Ia=m);0==this.Fa--?(this.Fa=this.rb,a=l):a=m;a&&this.Oa.Ab(this.v.display,[]);this.Ea++;requestAnimationFrame(this.frame.bind(this))}},bb:function(a,d){0!=d%1024&&(a=a.substr(512),d-=512);var g,h,k=Math.round(d/1024),q=Array(k);for(g=0;g<k;g++)if(q[g]=p(1024),ca)for(h=0;1024>h;h++)q[g].setUint8(h,a.charCodeAt(1024*g+h));else for(h=0;1024>h;h++)q[g][h]=a.charCodeAt(1024*
g+h)&255;return q}};function ua(a,d,g){var h;h=".gg"===g.substr(-3).toLowerCase()?2:1;var k=d.length;1==h?(a.$=l,a.S=m,a.v.Ga=0,a.v.Za=32,a.pb=256,a.ob=192):2==h&&(a.S=l,a.$=m,a.v.Ga=5,a.v.Za=27,a.pb=160,a.ob=144);if(1024>=k)return m;h=a.bb(d,k);if(h==aa)return m;pa(a.D,h);a.eb=d;a.fb=g;return l}function sa(a){var d=va(),g="Running";a.ab&&(g+=": "+(a.Ea/((d-a.ab)/1E3)).toFixed(2)+" (/ "+(1E3/17).toFixed(2)+") FPS");a.Oa.updateStatus(g);a.Ea=0;a.ab=d};var p=ca?function(a){a===j&&(a=0);return new DataView(new ArrayBuffer(a))}:Array,wa=ca?function(a){if(a===j)return p();var d,g;d=a.byteLength;for(g=new p(d);d--;)g.setInt8(d,a.getInt8(d));return g}:function(a){if(a===j)return p();var d,g;d=a.length;for(g=new p(d);d--;)"undefined"!=typeof a[d]&&(g[d]=a[d]);return g},r=ca?function(a,d,g){a.U[d>>10].setInt8(d&1023,g);65532<=d&&a.page(d&3,g)}:function(a,d,g){a.U[d>>10][d&1023]=g;65532<=d&&a.page(d&3,g)},Aa=ca?function(a,d){return a[d>>10].getUint8(d&
1023)}:function(a,d){return a[d>>10][d&1023]&255},Ba=ca?function(a,d){return 1023>(d&1023)?a[d>>10].getUint16(d&1023,l):a[d>>10].getUint8(d&1023)|a[++d>>10].getUint8(d&1023)<<8}:function(a,d){return a[d>>10][d&1023]&255|(a[++d>>10][d&1023]&255)<<8},va=Date.now||(Date.now=function(){return(new Date).getTime()});function Ca(a){var d=m;a.some(function(a){return a in document?(d=a,l):m});return d};var Ha=[4,10,7,6,4,4,7,4,4,11,7,6,4,4,7,4,8,10,7,6,4,4,7,4,12,11,7,6,4,4,7,4,7,10,16,6,4,4,7,4,7,11,16,6,4,4,7,4,7,10,13,6,11,11,10,4,7,11,13,6,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,7,7,7,7,7,7,4,7,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,5,10,10,10,10,11,7,11,5,10,10,0,10,17,7,11,5,10,10,11,10,11,7,11,5,4,10,11,10,0,7,11,5,10,10,
19,10,11,7,11,5,4,10,4,10,0,7,11,5,10,10,4,10,11,7,11,5,6,10,4,10,0,7,11],Ia=[8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,
8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8],Ja=[4,4,4,4,4,4,4,4,4,15,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,15,4,4,4,4,4,4,4,14,20,10,8,8,11,4,4,15,20,10,8,8,11,4,4,4,4,4,23,23,19,4,4,15,4,4,4,4,4,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,8,8,8,8,8,8,19,8,8,8,8,8,8,8,19,8,19,19,19,19,19,19,4,19,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,
4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,4,4,4,4,4,4,4,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,14,4,23,4,15,4,4,4,8,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,10,4,4,4,4,4,4],La=[0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,
0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0],Ma=[8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,18,12,12,15,20,8,14,8,18,8,12,15,20,8,14,8,
8,12,12,15,20,8,14,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,16,16,16,16,8,8,8,8,16,16,16,16,8,8,8,8,16,16,16,16,8,8,8,8,16,16,16,16,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8];
function ja(a){this.m=a;this.port=a.ports;this.ra=this.k=this.b=0;this.Q=this.na=this.ha=this.P=this.O=m;this.l=this.yb=this.Xa=this.a=this.Ha=this.vb=this.q=this.o=this.p=this.n=this.$a=this.Ya=this.f=this.i=this.Wa=this.Va=this.g=this.h=this.Ta=this.Ra=this.d=this.e=this.Qa=this.c=this.sa=0;this.W=[];this.cb=Array(8);this.Ma=aa;this.zb=m;this.Z=Array(4);this.ba=0;this.U=Array(65);this.F=Array(65);this.Ib=p(1024);this.kb=Array(2048);this.Pa=Array(256);this.j=Array(256);this.ea=Array(256);this.da=
Array(256);this.w=Array(131072);this.u=Array(131072);this.za=Array(256);var d,g,h,k,q,n;for(a=0;256>a;a++)d=0!=(a&128)?128:0,g=0==a?64:0,h=a&32,k=a&8,q=Na(a)?4:0,this.Pa[a]=d|g|h|k,this.j[a]=d|g|h|k|q,this.ea[a]=d|g|h|k,this.ea[a]|=128==a?4:0,this.ea[a]|=0==(a&15)?16:0,this.da[a]=d|g|h|k|2,this.da[a]|=127==a?4:0,this.da[a]|=15==(a&15)?16:0,this.za[a]=0!=a?a&128:68,this.za[a]|=h|k|16;a=0;d=65536;g=0;h=65536;for(q=0;256>q;q++)for(n=0;256>n;n++)k=n-q,this.w[a]=0!=n?0!=(n&128)?128:0:64,this.w[a]|=n&40,
(n&15)<(q&15)&&(this.w[a]|=16),n<q&&(this.w[a]|=1),0!=((k^q^128)&(k^n)&128)&&(this.w[a]|=4),a++,k=n-q-1,this.w[d]=0!=n?0!=(n&128)?128:0:64,this.w[d]|=n&40,(n&15)<=(q&15)&&(this.w[d]|=16),n<=q&&(this.w[d]|=1),0!=((k^q^128)&(k^n)&128)&&(this.w[d]|=4),d++,k=q-n,this.u[g]=0!=n?0!=(n&128)?130:2:66,this.u[g]|=n&40,(n&15)>(q&15)&&(this.u[g]|=16),n>q&&(this.u[g]|=1),0!=((k^q)&(q^n)&128)&&(this.u[g]|=4),g++,k=q-n-1,this.u[h]=0!=n?0!=(n&128)?130:2:66,this.u[h]|=n&40,(n&15)>=(q&15)&&(this.u[h]|=16),n>=q&&(this.u[h]|=
1),0!=((k^q)&(q^n)&128)&&(this.u[h]|=4),h++;for(a=256;a--;)for(d=0;1>=d;d++)for(g=0;1>=g;g++)for(h=0;1>=h;h++){k=this.kb;q=d<<8|h<<9|g<<10|a;n=d|h<<1|g<<4;this.c=a;this.a=n;var s=this.c,v=0,E=n&1,u=E;if(0!=(n&16)||9<(s&15))v|=6;if(1==E||159<s||143<s&&9<(s&15))v|=96,u=1;153<s&&(u=1);0!=(n&2)?w(this,v):x(this,v);n=this.a&254|u;n=Na(this.c)?n&251|4:n&251;k[q]=this.c|n<<8}for(a=this.c=this.a=0;65>a;a++)this.F[a]=p(1024),this.U[a]=p(1024);for(a=0;8>a;a++)this.cb[a]=p(1024);this.Ma==aa&&(this.Ma=p(32),
this.zb=m);this.F[64]=p(1024);this.U[64]=p(1024);this.ba=2}
ja.prototype={reset:function(){this.b=this.Xa=this.a=this.Ha=this.vb=this.o=this.q=this.n=this.p=this.i=this.f=this.Ya=this.$a=this.h=this.g=this.Va=this.Wa=this.e=this.d=this.Ra=this.Ta=this.c=this.Qa=0;this.k=57328;this.ra=this.yb=this.l=0;this.na=this.P=this.O=m;this.sa=0;this.ha=m},call:function(a){a?(this.push(this.b+2),this.b=y(this,this.b),this.l-=7):this.b+=2},push:function(a,d){if("undefined"===typeof d){var g=--this.k;r(this,g,a>>8);g=--this.k;r(this,g,a&255)}else g=--this.k,r(this,g,a),
g=--this.k,r(this,g,d)},page:function(a,d){var g,h;this.Z[a]=d;switch(a){case 0:if(0!=(d&8)){g=(d&4)<<2;for(h=32;48>h;h++)this.F[h]=wa(this.Ma[g]),this.U[h]=wa(this.Ma[g]),g++;this.zb=l}else{g=this.Z[3]%this.ba<<4;for(h=32;48>h;h++)this.F[h]=wa(this.W[g++]),this.U[h]=p(1024)}break;case 1:g=(d%this.ba<<4)+1;for(h=1;16>h;h++)this.F[h]=wa(this.W[g++]);break;case 2:g=d%this.ba<<4;for(h=16;32>h;h++)this.F[h]=wa(this.W[g++]);break;case 3:if(0==(this.Z[0]&8)){g=d%this.ba<<4;for(h=32;48>h;h++)this.F[h]=wa(this.W[g++])}}}};
function y(a,d){return Ba(a.F,d)}function z(a){return Aa(a.F,a.b)}function A(a,d){return Aa(a.F,d)}function pa(a,d){d!=aa&&(a.W=d);a.Z[0]=0;a.Z[1]=0;a.Z[2]=1;a.Z[3]=0;if(a.W!=aa){a.ba=a.W.length/16;for(var g=0;48>g;g++)a.F[g]=wa(a.W[g&31]),a.U[g]=p(1024);for(g=48;64>g;g++)a.F[g]=a.cb[g&7],a.U[g]=a.cb[g&7]}else a.ba=0}function Na(a){var d=l,g;for(g=0;8>g;g++)0!=(a&1<<g)&&(d=!d);return d}
function Oa(a,d){var g=a.i<<8|a.f,h=g-d-(a.a&1);a.a=(g^h^d)>>8&16|2|h>>16&1|h>>8&128|(0!=(h&65535)?0:64)|((d^g)&(g^h)&32768)>>13;a.i=h>>8&255;a.f=h&255}function Pa(a,d){var g=a.i<<8|a.f,h=g+d+(a.a&1);a.a=(g^h^d)>>8&16|h>>16&1|h>>8&128|(0!=(h&65535)?0:64)|((d^g^32768)&(d^h)&32768)>>13;a.i=h>>8&255;a.f=h&255}function F(a,d,g){var h=d+g;a.a=a.a&196|(d^h^g)>>8&16|h>>16&1;return h&65535}function H(a,d){d=d-1&255;a.a=a.a&1|a.da[d];return d}function J(a,d){d=d+1&255;a.a=a.a&1|a.ea[d];return d}
function K(a){a.f=a.f-1&255;255==a.f&&(a.i=a.i-1&255)}function Qa(a){a.g=a.g-1&255;255==a.g&&(a.h=a.h-1&255)}function Wa(a){a.d=a.d-1&255;255==a.d&&(a.e=a.e-1&255)}function Xa(a){a.f=a.f+1&255;0==a.f&&(a.i=a.i+1&255)}function Ya(a){a.g=a.g+1&255;0==a.g&&(a.h=a.h+1&255)}function Za(a,d){a.q=d>>8;a.o=d&255}function $a(a,d){a.p=d>>8;a.n=d&255}function ab(a,d){a.i=d>>8;a.f=d&255}function L(a){return a.q<<8|a.o}function M(a){return a.p<<8|a.n}function N(a){return a.i<<8|a.f}
function O(a){return a.h<<8|a.g}function P(a){return a.e<<8|a.d}function Q(a,d){a.a=a.u[a.c<<8|a.c-d&255]}function R(a,d){var g=a.a&1,h=a.c-d-g&255;a.a=a.u[g<<16|a.c<<8|h];a.c=h}function w(a,d){var g=a.c-d&255;a.a=a.u[a.c<<8|g];a.c=g}function S(a,d){var g=a.a&1,h=a.c+d+g&255;a.a=a.w[g<<16|a.c<<8|h];a.c=h}function x(a,d){var g=a.c+d&255;a.a=a.w[a.c<<8|g];a.c=g}
function bb(a,d){var g=d+z(a)&65535,h=A(a,++a.b);a.l-=La[h];switch(h){case 6:h=cb(a,A(a,g));r(a,g,h);break;case 14:h=db(a,A(a,g));r(a,g,h);break;case 22:h=T(a,A(a,g));r(a,g,h);break;case 30:h=eb(a,A(a,g));r(a,g,h);break;case 38:h=fb(a,A(a,g));r(a,g,h);break;case 46:h=gb(a,A(a,g));r(a,g,h);break;case 54:h=hb(a,A(a,g));r(a,g,h);break;case 62:h=ib(a,A(a,g));r(a,g,h);break;case 70:U(a,A(a,g)&1);break;case 78:U(a,A(a,g)&2);break;case 86:U(a,A(a,g)&4);break;case 94:U(a,A(a,g)&8);break;case 102:U(a,A(a,
g)&16);break;case 110:U(a,A(a,g)&32);break;case 118:U(a,A(a,g)&64);break;case 126:U(a,A(a,g)&128);break;case 134:h=A(a,g)&-2;r(a,g,h);break;case 142:h=A(a,g)&-3;r(a,g,h);break;case 150:h=A(a,g)&-5;r(a,g,h);break;case 158:h=A(a,g)&-9;r(a,g,h);break;case 166:h=A(a,g)&-17;r(a,g,h);break;case 174:h=A(a,g)&-33;r(a,g,h);break;case 182:h=A(a,g)&-65;r(a,g,h);break;case 190:h=A(a,g)&-129;r(a,g,h);break;case 198:h=A(a,g)|1;r(a,g,h);break;case 206:h=A(a,g)|2;r(a,g,h);break;case 214:h=A(a,g)|4;r(a,g,h);break;
case 222:h=A(a,g)|8;r(a,g,h);break;case 230:h=A(a,g)|16;r(a,g,h);break;case 238:h=A(a,g)|32;r(a,g,h);break;case 246:h=A(a,g)|64;r(a,g,h);break;case 254:h=A(a,g)|128,r(a,g,h)}a.b++}function U(a,d){a.a=a.a&1|a.za[d]}function ib(a,d){var g=d&1;d=d>>1&255;a.a=g|a.j[d];return d}function gb(a,d){var g=d&1;d=d>>1|d&128;a.a=g|a.j[d];return d}function hb(a,d){var g=(d&128)>>7;d=(d<<1|1)&255;a.a=g|a.j[d];return d}function fb(a,d){var g=(d&128)>>7;d=d<<1&255;a.a=g|a.j[d];return d}
function eb(a,d){var g=d&1;d=(d>>1|a.a<<7)&255;a.a=g|a.j[d];return d}function T(a,d){var g=(d&128)>>7;d=(d<<1|a.a&1)&255;a.a=g|a.j[d];return d}function db(a,d){var g=d&1;d=(d>>1|d<<7)&255;a.a=g|a.j[d];return d}function cb(a,d){var g=(d&128)>>7;d=(d<<1|d>>7)&255;a.a=g|a.j[d];return d}function jb(a,d){var g=H(a,A(a,d));r(a,d,g)}function kb(a,d){var g=J(a,A(a,d));r(a,d,g)}function vb(a,d){d&&(a.b=y(a,a.k),a.k+=2,a.l-=6)}function wb(a,d){if(d){var g=z(a)+1;a.b+=128>g?g:g-256;a.l-=5}else a.b++}
function xb(a,d){a.b=d?y(a,a.b):a.b+2}
function ta(a,d,g){var h,k,q;a.l+=d;0!=d&&(a.yb=d);for(;a.l>g;){if(a.Q){var n=a;n.O&&!n.na&&(n.ha&&(n.b++,n.ha=m),n.O=n.P=m,n.Q=m,n.push(n.b),0==n.ra?(n.b=0==n.sa||255==n.sa?56:n.sa,n.l-=13):1==n.ra?(n.b=56,n.l-=13):(n.b=y(n,(n.Ha<<8)+n.sa),n.l-=19))}k=A(a,a.b++);a.na=m;a.l-=Ha[k];switch(k){case 1:a.d=A(a,a.b++);a.e=A(a,a.b++);break;case 2:r(a,P(a),a.c);break;case 3:var s=a;s.d=s.d+1&255;0==s.d&&(s.e=s.e+1&255);break;case 4:a.e=J(a,a.e);break;case 5:a.e=H(a,a.e);break;case 6:a.e=A(a,a.b++);break;
case 7:var v=a,E=v.c>>7;v.c=v.c<<1&255|E;v.a=v.a&236|E;break;case 8:var u=a,I=u.c;u.c=u.Qa;u.Qa=I;I=u.a;u.a=u.Xa;u.Xa=I;break;case 9:ab(a,F(a,N(a),P(a)));break;case 10:a.c=A(a,P(a));break;case 11:Wa(a);break;case 12:a.d=J(a,a.d);break;case 13:a.d=H(a,a.d);break;case 14:a.d=A(a,a.b++);break;case 15:var D=a,G=D.c&1;D.c=D.c>>1|G<<7;D.a=D.a&236|G;break;case 16:a.e=a.e-1&255;wb(a,0!=a.e);break;case 17:a.g=A(a,a.b++);a.h=A(a,a.b++);break;case 18:r(a,O(a),a.c);break;case 19:Ya(a);break;case 20:a.h=J(a,a.h);
break;case 21:a.h=H(a,a.h);break;case 22:a.h=A(a,a.b++);break;case 23:var B=a,qa=B.c>>7;B.c=(B.c<<1|B.a&1)&255;B.a=B.a&236|qa;break;case 24:a.b+=z(a)+1;break;case 25:ab(a,F(a,N(a),O(a)));break;case 26:a.c=A(a,O(a));break;case 27:Qa(a);break;case 28:a.g=J(a,a.g);break;case 29:a.g=H(a,a.g);break;case 30:a.g=A(a,a.b++);break;case 31:var X=a,Y=X.c&1;X.c=(X.c>>1|(X.a&1)<<7)&255;X.a=X.a&236|Y;break;case 32:wb(a,0==(a.a&64));break;case 33:a.f=A(a,a.b++);a.i=A(a,a.b++);break;case 34:h=y(a,a.b);r(a,h,a.f);
var ra=++h;r(a,ra,a.i);a.b+=2;break;case 35:Xa(a);break;case 36:a.i=J(a,a.i);break;case 37:a.i=H(a,a.i);break;case 38:a.i=A(a,a.b++);break;case 39:var la=a,lb=la.kb[la.c|(la.a&1)<<8|(la.a&2)<<8|(la.a&16)<<6];la.c=lb&255;la.a=la.a&2|lb>>8;break;case 40:wb(a,0!=(a.a&64));break;case 41:ab(a,F(a,N(a),N(a)));break;case 42:h=y(a,a.b);a.f=A(a,h);a.i=A(a,h+1);a.b+=2;break;case 43:K(a);break;case 44:a.f=J(a,a.f);break;case 45:a.f=H(a,a.f);break;case 46:a.f=A(a,a.b++);break;case 47:var Ka=a;Ka.c^=255;Ka.a|=
18;break;case 48:wb(a,0==(a.a&1));break;case 49:a.k=y(a,a.b);a.b+=2;break;case 50:var Db=y(a,a.b);r(a,Db,a.c);a.b+=2;break;case 51:a.k++;break;case 52:kb(a,N(a));break;case 53:jb(a,N(a));break;case 54:var Eb=A(a,a.b++);r(a,N(a),Eb);break;case 55:a.a|=1;a.a&=-3;a.a&=-17;break;case 56:wb(a,0!=(a.a&1));break;case 57:ab(a,F(a,N(a),a.k));break;case 58:a.c=A(a,y(a,a.b));a.b+=2;break;case 59:a.k--;break;case 60:a.c=J(a,a.c);break;case 61:a.c=H(a,a.c);break;case 62:a.c=A(a,a.b++);break;case 63:var V=a;0!=
(V.a&1)?(V.a&=-2,V.a|=16):(V.a|=1,V.a&=-17);V.a&=-3;break;case 65:a.e=a.d;break;case 66:a.e=a.h;break;case 67:a.e=a.g;break;case 68:a.e=a.i;break;case 69:a.e=a.f;break;case 70:a.e=A(a,N(a));break;case 71:a.e=a.c;break;case 72:a.d=a.e;break;case 74:a.d=a.h;break;case 75:a.d=a.g;break;case 76:a.d=a.i;break;case 77:a.d=a.f;break;case 78:a.d=A(a,N(a));break;case 79:a.d=a.c;break;case 80:a.h=a.e;break;case 81:a.h=a.d;break;case 83:a.h=a.g;break;case 84:a.h=a.i;break;case 85:a.h=a.f;break;case 86:a.h=A(a,
N(a));break;case 87:a.h=a.c;break;case 88:a.g=a.e;break;case 89:a.g=a.d;break;case 90:a.g=a.h;break;case 92:a.g=a.i;break;case 93:a.g=a.f;break;case 94:a.g=A(a,N(a));break;case 95:a.g=a.c;break;case 96:a.i=a.e;break;case 97:a.i=a.d;break;case 98:a.i=a.h;break;case 99:a.i=a.g;break;case 101:a.i=a.f;break;case 102:a.i=A(a,N(a));break;case 103:a.i=a.c;break;case 104:a.f=a.e;break;case 105:a.f=a.d;break;case 106:a.f=a.h;break;case 107:a.f=a.g;break;case 108:a.f=a.i;break;case 110:a.f=A(a,N(a));break;
case 111:a.f=a.c;break;case 112:r(a,N(a),a.e);break;case 113:r(a,N(a),a.d);break;case 114:r(a,N(a),a.h);break;case 115:r(a,N(a),a.g);break;case 116:r(a,N(a),a.i);break;case 117:r(a,N(a),a.f);break;case 118:a.ha=l;a.b--;break;case 119:r(a,N(a),a.c);break;case 120:a.c=a.e;break;case 121:a.c=a.d;break;case 122:a.c=a.h;break;case 123:a.c=a.g;break;case 124:a.c=a.i;break;case 125:a.c=a.f;break;case 126:a.c=A(a,N(a));break;case 128:x(a,a.e);break;case 129:x(a,a.d);break;case 130:x(a,a.h);break;case 131:x(a,
a.g);break;case 132:x(a,a.i);break;case 133:x(a,a.f);break;case 134:x(a,A(a,N(a)));break;case 135:x(a,a.c);break;case 136:S(a,a.e);break;case 137:S(a,a.d);break;case 138:S(a,a.h);break;case 139:S(a,a.g);break;case 140:S(a,a.i);break;case 141:S(a,a.f);break;case 142:S(a,A(a,N(a)));break;case 143:S(a,a.c);break;case 144:w(a,a.e);break;case 145:w(a,a.d);break;case 146:w(a,a.h);break;case 147:w(a,a.g);break;case 148:w(a,a.i);break;case 149:w(a,a.f);break;case 150:w(a,A(a,N(a)));break;case 151:w(a,a.c);
break;case 152:R(a,a.e);break;case 153:R(a,a.d);break;case 154:R(a,a.h);break;case 155:R(a,a.g);break;case 156:R(a,a.i);break;case 157:R(a,a.f);break;case 158:R(a,A(a,N(a)));break;case 159:R(a,a.c);break;case 160:a.a=a.j[a.c&=a.e]|16;break;case 161:a.a=a.j[a.c&=a.d]|16;break;case 162:a.a=a.j[a.c&=a.h]|16;break;case 163:a.a=a.j[a.c&=a.g]|16;break;case 164:a.a=a.j[a.c&=a.i]|16;break;case 165:a.a=a.j[a.c&=a.f]|16;break;case 166:a.a=a.j[a.c&=A(a,N(a))]|16;break;case 167:a.a=a.j[a.c]|16;break;case 168:a.a=
a.j[a.c^=a.e];break;case 169:a.a=a.j[a.c^=a.d];break;case 170:a.a=a.j[a.c^=a.h];break;case 171:a.a=a.j[a.c^=a.g];break;case 172:a.a=a.j[a.c^=a.i];break;case 173:a.a=a.j[a.c^=a.f];break;case 174:a.a=a.j[a.c^=A(a,N(a))];break;case 175:a.a=a.j[a.c=0];break;case 176:a.a=a.j[a.c|=a.e];break;case 177:a.a=a.j[a.c|=a.d];break;case 178:a.a=a.j[a.c|=a.h];break;case 179:a.a=a.j[a.c|=a.g];break;case 180:a.a=a.j[a.c|=a.i];break;case 181:a.a=a.j[a.c|=a.f];break;case 182:a.a=a.j[a.c|=A(a,N(a))];break;case 183:a.a=
a.j[a.c];break;case 184:Q(a,a.e);break;case 185:Q(a,a.d);break;case 186:Q(a,a.h);break;case 187:Q(a,a.g);break;case 188:Q(a,a.i);break;case 189:Q(a,a.f);break;case 190:Q(a,A(a,N(a)));break;case 191:Q(a,a.c);break;case 192:vb(a,0==(a.a&64));break;case 193:var mb=a,nb=y(a,a.k);mb.e=nb>>8;mb.d=nb&255;a.k+=2;break;case 194:xb(a,0==(a.a&64));break;case 195:a.b=y(a,a.b);break;case 196:a.call(0==(a.a&64));break;case 197:a.push(a.e,a.d);break;case 198:x(a,A(a,a.b++));break;case 199:a.push(a.b);a.b=0;break;
case 200:vb(a,0!=(a.a&64));break;case 201:a.b=y(a,a.k);a.k+=2;break;case 202:xb(a,0!=(a.a&64));break;case 203:var b=a,ob=A(a,a.b++);b.l-=Ia[ob];switch(ob){case 0:b.e=cb(b,b.e);break;case 1:b.d=cb(b,b.d);break;case 2:b.h=cb(b,b.h);break;case 3:b.g=cb(b,b.g);break;case 4:b.i=cb(b,b.i);break;case 5:b.f=cb(b,b.f);break;case 6:var Fb=cb(b,A(b,N(b)));r(b,N(b),Fb);break;case 7:b.c=cb(b,b.c);break;case 8:b.e=db(b,b.e);break;case 9:b.d=db(b,b.d);break;case 10:b.h=db(b,b.h);break;case 11:b.g=db(b,b.g);break;
case 12:b.i=db(b,b.i);break;case 13:b.f=db(b,b.f);break;case 14:var Gb=db(b,A(b,N(b)));r(b,N(b),Gb);break;case 15:b.c=db(b,b.c);break;case 16:b.e=T(b,b.e);break;case 17:b.d=T(b,b.d);break;case 18:b.h=T(b,b.h);break;case 19:b.g=T(b,b.g);break;case 20:b.i=T(b,b.i);break;case 21:b.f=T(b,b.f);break;case 22:var Hb=T(b,A(b,N(b)));r(b,N(b),Hb);break;case 23:b.c=T(b,b.c);break;case 24:b.e=eb(b,b.e);break;case 25:b.d=eb(b,b.d);break;case 26:b.h=eb(b,b.h);break;case 27:b.g=eb(b,b.g);break;case 28:b.i=eb(b,
b.i);break;case 29:b.f=eb(b,b.f);break;case 30:var Ib=eb(b,A(b,N(b)));r(b,N(b),Ib);break;case 31:b.c=eb(b,b.c);break;case 32:b.e=fb(b,b.e);break;case 33:b.d=fb(b,b.d);break;case 34:b.h=fb(b,b.h);break;case 35:b.g=fb(b,b.g);break;case 36:b.i=fb(b,b.i);break;case 37:b.f=fb(b,b.f);break;case 38:var Jb=fb(b,A(b,N(b)));r(b,N(b),Jb);break;case 39:b.c=fb(b,b.c);break;case 40:b.e=gb(b,b.e);break;case 41:b.d=gb(b,b.d);break;case 42:b.h=gb(b,b.h);break;case 43:b.g=gb(b,b.g);break;case 44:b.i=gb(b,b.i);break;
case 45:b.f=gb(b,b.f);break;case 46:var Kb=gb(b,A(b,N(b)));r(b,N(b),Kb);break;case 47:b.c=gb(b,b.c);break;case 48:b.e=hb(b,b.e);break;case 49:b.d=hb(b,b.d);break;case 50:b.h=hb(b,b.h);break;case 51:b.g=hb(b,b.g);break;case 52:b.i=hb(b,b.i);break;case 53:b.f=hb(b,b.f);break;case 54:var Lb=hb(b,A(b,N(b)));r(b,N(b),Lb);break;case 55:b.c=hb(b,b.c);break;case 56:b.e=ib(b,b.e);break;case 57:b.d=ib(b,b.d);break;case 58:b.h=ib(b,b.h);break;case 59:b.g=ib(b,b.g);break;case 60:b.i=ib(b,b.i);break;case 61:b.f=
T(b,b.f);break;case 62:var Mb=ib(b,A(b,N(b)));r(b,N(b),Mb);break;case 63:b.c=ib(b,b.c);break;case 64:U(b,b.e&1);break;case 65:U(b,b.d&1);break;case 66:U(b,b.h&1);break;case 67:U(b,b.g&1);break;case 68:U(b,b.i&1);break;case 69:U(b,b.f&1);break;case 70:U(b,A(b,N(b))&1);break;case 71:U(b,b.c&1);break;case 72:U(b,b.e&2);break;case 73:U(b,b.d&2);break;case 74:U(b,b.h&2);break;case 75:U(b,b.g&2);break;case 76:U(b,b.i&2);break;case 77:U(b,b.f&2);break;case 78:U(b,A(b,N(b))&2);break;case 79:U(b,b.c&2);break;
case 80:U(b,b.e&4);break;case 81:U(b,b.d&4);break;case 82:U(b,b.h&4);break;case 83:U(b,b.g&4);break;case 84:U(b,b.i&4);break;case 85:U(b,b.f&4);break;case 86:U(b,A(b,N(b))&4);break;case 87:U(b,b.c&4);break;case 88:U(b,b.e&8);break;case 89:U(b,b.d&8);break;case 90:U(b,b.h&8);break;case 91:U(b,b.g&8);break;case 92:U(b,b.i&8);break;case 93:U(b,b.f&8);break;case 94:U(b,A(b,N(b))&8);break;case 95:U(b,b.c&8);break;case 96:U(b,b.e&16);break;case 97:U(b,b.d&16);break;case 98:U(b,b.h&16);break;case 99:U(b,
b.g&16);break;case 100:U(b,b.i&16);break;case 101:U(b,b.f&16);break;case 102:U(b,A(b,N(b))&16);break;case 103:U(b,b.c&16);break;case 104:U(b,b.e&32);break;case 105:U(b,b.d&32);break;case 106:U(b,b.h&32);break;case 107:U(b,b.g&32);break;case 108:U(b,b.i&32);break;case 109:U(b,b.f&32);break;case 110:U(b,A(b,N(b))&32);break;case 111:U(b,b.c&32);break;case 112:U(b,b.e&64);break;case 113:U(b,b.d&64);break;case 114:U(b,b.h&64);break;case 115:U(b,b.g&64);break;case 116:U(b,b.i&64);break;case 117:U(b,b.f&
64);break;case 118:U(b,A(b,N(b))&64);break;case 119:U(b,b.c&64);break;case 120:U(b,b.e&128);break;case 121:U(b,b.d&128);break;case 122:U(b,b.h&128);break;case 123:U(b,b.g&128);break;case 124:U(b,b.i&128);break;case 125:U(b,b.f&128);break;case 126:U(b,A(b,N(b))&128);break;case 127:U(b,b.c&128);break;case 128:b.e&=-2;break;case 129:b.d&=-2;break;case 130:b.h&=-2;break;case 131:b.g&=-2;break;case 132:b.i&=-2;break;case 133:b.f&=-2;break;case 134:var Nb=A(b,N(b))&-2;r(b,N(b),Nb);break;case 135:b.c&=-2;
break;case 136:b.e&=-3;break;case 137:b.d&=-3;break;case 138:b.h&=-3;break;case 139:b.g&=-3;break;case 140:b.i&=-3;break;case 141:b.f&=-3;break;case 142:var Ob=A(b,N(b))&-3;r(b,N(b),Ob);break;case 143:b.c&=-3;break;case 144:b.e&=-5;break;case 145:b.d&=-5;break;case 146:b.h&=-5;break;case 147:b.g&=-5;break;case 148:b.i&=-5;break;case 149:b.f&=-5;break;case 150:var Pb=A(b,N(b))&-5;r(b,N(b),Pb);break;case 151:b.c&=-5;break;case 152:b.e&=-9;break;case 153:b.d&=-9;break;case 154:b.h&=-9;break;case 155:b.g&=
-9;break;case 156:b.i&=-9;break;case 157:b.f&=-9;break;case 158:var Qb=A(b,N(b))&-9;r(b,N(b),Qb);break;case 159:b.c&=-9;break;case 160:b.e&=-17;break;case 161:b.d&=-17;break;case 162:b.h&=-17;break;case 163:b.g&=-17;break;case 164:b.i&=-17;break;case 165:b.f&=-17;break;case 166:var Rb=A(b,N(b))&-17;r(b,N(b),Rb);break;case 167:b.c&=-17;break;case 168:b.e&=-33;break;case 169:b.d&=-33;break;case 170:b.h&=-33;break;case 171:b.g&=-33;break;case 172:b.i&=-33;break;case 173:b.f&=-33;break;case 174:var Sb=
A(b,N(b))&-33;r(b,N(b),Sb);break;case 175:b.c&=-33;break;case 176:b.e&=-65;break;case 177:b.d&=-65;break;case 178:b.h&=-65;break;case 179:b.g&=-65;break;case 180:b.i&=-65;break;case 181:b.f&=-65;break;case 182:var Tb=A(b,N(b))&-65;r(b,N(b),Tb);break;case 183:b.c&=-65;break;case 184:b.e&=-129;break;case 185:b.d&=-129;break;case 186:b.h&=-129;break;case 187:b.g&=-129;break;case 188:b.i&=-129;break;case 189:b.f&=-129;break;case 190:var Ub=A(b,N(b))&-129;r(b,N(b),Ub);break;case 191:b.c&=-129;break;case 192:b.e|=
1;break;case 193:b.d|=1;break;case 194:b.h|=1;break;case 195:b.g|=1;break;case 196:b.i|=1;break;case 197:b.f|=1;break;case 198:var Vb=A(b,N(b))|1;r(b,N(b),Vb);break;case 199:b.c|=1;break;case 200:b.e|=2;break;case 201:b.d|=2;break;case 202:b.h|=2;break;case 203:b.g|=2;break;case 204:b.i|=2;break;case 205:b.f|=2;break;case 206:var Wb=A(b,N(b))|2;r(b,N(b),Wb);break;case 207:b.c|=2;break;case 208:b.e|=4;break;case 209:b.d|=4;break;case 210:b.h|=4;break;case 211:b.g|=4;break;case 212:b.i|=4;break;case 213:b.f|=
4;break;case 214:var Xb=A(b,N(b))|4;r(b,N(b),Xb);break;case 215:b.c|=4;break;case 216:b.e|=8;break;case 217:b.d|=8;break;case 218:b.h|=8;break;case 219:b.g|=8;break;case 220:b.i|=8;break;case 221:b.f|=8;break;case 222:var Yb=A(b,N(b))|8;r(b,N(b),Yb);break;case 223:b.c|=8;break;case 224:b.e|=16;break;case 225:b.d|=16;break;case 226:b.h|=16;break;case 227:b.g|=16;break;case 228:b.i|=16;break;case 229:b.f|=16;break;case 230:var Zb=A(b,N(b))|16;r(b,N(b),Zb);break;case 231:b.c|=16;break;case 232:b.e|=
32;break;case 233:b.d|=32;break;case 234:b.h|=32;break;case 235:b.g|=32;break;case 236:b.i|=32;break;case 237:b.f|=32;break;case 238:var $b=A(b,N(b))|32;r(b,N(b),$b);break;case 239:b.c|=32;break;case 240:b.e|=64;break;case 241:b.d|=64;break;case 242:b.h|=64;break;case 243:b.g|=64;break;case 244:b.i|=64;break;case 245:b.f|=64;break;case 246:var ac=A(b,N(b))|64;r(b,N(b),ac);break;case 247:b.c|=64;break;case 248:b.e|=128;break;case 249:b.d|=128;break;case 250:b.h|=128;break;case 251:b.g|=128;break;case 252:b.i|=
128;break;case 253:b.f|=128;break;case 254:var bc=A(b,N(b))|128;r(b,N(b),bc);break;case 255:b.c|=128}break;case 204:a.call(0!=(a.a&64));break;case 205:a.push(a.b+2);a.b=y(a,a.b);break;case 206:S(a,A(a,a.b++));break;case 207:a.push(a.b);a.b=8;break;case 208:vb(a,0==(a.a&1));break;case 209:var pb=a,qb=y(a,a.k);pb.h=qb>>8;pb.g=qb&255;a.k+=2;break;case 210:xb(a,0==(a.a&1));break;case 211:W(a.port,A(a,a.b++),a.c);break;case 212:a.call(0==(a.a&1));break;case 213:a.push(a.h,a.g);break;case 214:w(a,A(a,a.b++));
break;case 215:a.push(a.b);a.b=16;break;case 216:vb(a,0!=(a.a&1));break;case 217:var ma=a,Ra=ma.e;ma.e=ma.Ra;ma.Ra=Ra;Ra=ma.d;ma.d=ma.Ta;ma.Ta=Ra;var na=a,Sa=na.h;na.h=na.Va;na.Va=Sa;Sa=na.g;na.g=na.Wa;na.Wa=Sa;var oa=a,Ta=oa.i;oa.i=oa.Ya;oa.Ya=Ta;Ta=oa.f;oa.f=oa.$a;oa.$a=Ta;break;case 218:xb(a,0!=(a.a&1));break;case 219:a.c=Z(a.port,A(a,a.b++));break;case 220:a.call(0!=(a.a&1));break;case 221:var e=a,rb=A(a,a.b++),xa=j,Ua=j;e.l-=Ja[rb];switch(rb){case 9:$a(e,F(e,M(e),P(e)));break;case 25:$a(e,F(e,
M(e),O(e)));break;case 33:$a(e,y(e,e.b));e.b+=2;break;case 34:var xa=y(e,e.b),cc=xa++;r(e,cc,e.n);r(e,xa,e.p);e.b+=2;break;case 35:var Da=e;Da.n=Da.n+1&255;0==Da.n&&(Da.p=Da.p+1&255);break;case 36:e.p=J(e,e.p);break;case 37:e.p=H(e,e.p);break;case 38:e.p=A(e,e.b++);break;case 41:$a(e,F(e,M(e),M(e)));break;case 42:xa=y(e,e.b);e.n=A(e,xa);e.p=A(e,++xa);e.b+=2;break;case 43:var Ea=e;Ea.n=Ea.n-1&255;255==Ea.n&&(Ea.p=Ea.p-1&255);break;case 44:e.n=J(e,e.n);break;case 45:e.n=H(e,e.n);break;case 46:e.n=A(e,
e.b++);break;case 52:kb(e,M(e)+z(e));e.b++;break;case 53:jb(e,M(e)+z(e));e.b++;break;case 54:var dc=M(e)+z(e),ec=A(e,++e.b);r(e,dc,ec);e.b++;break;case 57:$a(e,F(e,M(e),e.k));break;case 68:e.e=e.p;break;case 69:e.e=e.n;break;case 70:e.e=A(e,M(e)+z(e));e.b++;break;case 76:e.d=e.p;break;case 77:e.d=e.n;break;case 78:e.d=A(e,M(e)+z(e));e.b++;break;case 84:e.h=e.p;break;case 85:e.h=e.n;break;case 86:e.h=A(e,M(e)+z(e));e.b++;break;case 92:e.g=e.p;break;case 93:e.g=e.n;break;case 94:e.g=A(e,M(e)+z(e));
e.b++;break;case 96:e.p=e.e;break;case 97:e.p=e.d;break;case 98:e.p=e.h;break;case 99:e.p=e.g;break;case 100:break;case 101:e.p=e.n;break;case 102:e.i=A(e,M(e)+z(e));e.b++;break;case 103:e.p=e.c;break;case 104:e.n=e.e;break;case 105:e.n=e.d;break;case 106:e.n=e.h;break;case 107:e.n=e.g;break;case 108:e.n=e.p;break;case 109:break;case 110:e.f=A(e,M(e)+z(e));e.b++;break;case 111:e.n=e.c;break;case 112:var fc=M(e)+z(e);r(e,fc,e.e);e.b++;break;case 113:var gc=M(e)+z(e);r(e,gc,e.d);e.b++;break;case 114:var hc=
M(e)+z(e);r(e,hc,e.h);e.b++;break;case 115:var ic=M(e)+z(e);r(e,ic,e.g);e.b++;break;case 116:var jc=M(e)+z(e);r(e,jc,e.i);e.b++;break;case 117:var kc=M(e)+z(e);r(e,kc,e.f);e.b++;break;case 119:var lc=M(e)+z(e);r(e,lc,e.c);e.b++;break;case 124:e.c=e.p;break;case 125:e.c=e.n;break;case 126:e.c=A(e,M(e)+z(e));e.b++;break;case 132:x(e,e.p);break;case 133:x(e,e.n);break;case 134:x(e,A(e,M(e)+z(e)));e.b++;break;case 140:S(e,e.p);break;case 141:S(e,e.n);break;case 142:S(e,A(e,M(e)+z(e)));e.b++;break;case 148:w(e,
e.p);break;case 149:w(e,e.n);break;case 150:w(e,A(e,M(e)+z(e)));e.b++;break;case 156:R(e,e.p);break;case 157:R(e,e.n);break;case 158:R(e,A(e,M(e)+z(e)));e.b++;break;case 164:e.a=e.j[e.c&=e.p]|16;break;case 165:e.a=e.j[e.c&=e.n]|16;break;case 166:e.a=e.j[e.c&=A(e,M(e)+z(e))]|16;e.b++;break;case 172:e.a=e.j[e.c^=e.p];break;case 173:e.a=e.j[e.c^=e.n];break;case 174:e.a=e.j[e.c^=A(e,M(e)+z(e))];e.b++;break;case 180:e.a=e.j[e.c|=e.p];break;case 181:e.a=e.j[e.c|=e.n];break;case 182:e.a=e.j[e.c|=A(e,M(e)+
z(e))];e.b++;break;case 188:Q(e,e.p);break;case 189:Q(e,e.n);break;case 190:Q(e,A(e,M(e)+z(e)));e.b++;break;case 203:bb(e,M(e));break;case 225:$a(e,y(e,e.k));e.k+=2;break;case 227:Ua=M(e);$a(e,y(e,e.k));r(e,e.k,Ua&255);r(e,e.k+1,Ua>>8);break;case 229:e.push(e.p,e.n);break;case 233:e.b=M(e);break;case 249:e.k=M(e);break;default:e.b--}break;case 222:R(a,A(a,a.b++));break;case 223:a.push(a.b);a.b=24;break;case 224:vb(a,0==(a.a&4));break;case 225:ab(a,y(a,a.k));a.k+=2;break;case 226:xb(a,0==(a.a&4));
break;case 227:q=a.i;a.i=A(a,a.k+1);r(a,a.k+1,q);q=a.f;a.f=A(a,a.k);r(a,a.k,q);break;case 228:a.call(0==(a.a&4));break;case 229:a.push(a.i,a.f);break;case 230:a.a=a.j[a.c&=A(a,a.b++)]|16;break;case 231:a.push(a.b);a.b=32;break;case 232:vb(a,0!=(a.a&4));break;case 233:a.b=N(a);break;case 234:xb(a,0!=(a.a&4));break;case 235:q=a.h;a.h=a.i;a.i=q;q=a.g;a.g=a.f;a.f=q;break;case 236:a.call(0!=(a.a&4));break;case 237:var c=a,sb=A(a,a.b),t=j,C=j,ya=j,tb=j;c.l-=Ma[sb];switch(sb){case 64:c.e=Z(c.port,c.d);c.a=
c.a&1|c.j[c.e];c.b++;break;case 65:W(c.port,c.d,c.e);c.b++;break;case 66:Oa(c,P(c));c.b++;break;case 67:var C=y(c,c.b+1),mc=C++;r(c,mc,c.d);r(c,C,c.e);c.b+=3;break;case 68:case 76:case 84:case 92:case 100:case 108:case 116:case 124:tb=c.c;c.c=0;w(c,tb);c.b++;break;case 69:case 77:case 85:case 93:case 101:case 109:case 117:case 125:c.b=y(c,c.k);c.k+=2;c.O=c.P;break;case 70:case 78:case 102:case 110:c.ra=0;c.b++;break;case 71:c.Ha=c.c;c.b++;break;case 72:c.d=Z(c.port,c.d);c.a=c.a&1|c.j[c.d];c.b++;break;
case 73:W(c.port,c.d,c.d);c.b++;break;case 74:Pa(c,P(c));c.b++;break;case 75:C=y(c,c.b+1);c.d=A(c,C++);c.e=A(c,C);c.b+=3;break;case 79:c.vb=c.c;c.b++;break;case 80:c.h=Z(c.port,c.d);c.a=c.a&1|c.j[c.h];c.b++;break;case 81:W(c.port,c.d,c.h);c.b++;break;case 82:Oa(c,O(c));c.b++;break;case 83:var C=y(c,c.b+1),nc=C++;r(c,nc,c.g);r(c,C,c.h);c.b+=3;break;case 86:case 118:c.ra=1;c.b++;break;case 87:c.c=c.Ha;c.a=c.a&1|c.Pa[c.c]|(c.P?4:0);c.b++;break;case 88:c.g=Z(c.port,c.d);c.a=c.a&1|c.j[c.g];c.b++;break;
case 89:W(c.port,c.d,c.g);c.b++;break;case 90:Pa(c,O(c));c.b++;break;case 91:C=y(c,c.b+1);c.g=A(c,C++);c.h=A(c,C);c.b+=3;break;case 95:c.c=Math.round(255*Math.random());c.a=c.a&1|c.Pa[c.c]|(c.P?4:0);c.b++;break;case 96:c.i=Z(c.port,c.d);c.a=c.a&1|c.j[c.i];c.b++;break;case 97:W(c.port,c.d,c.i);c.b++;break;case 98:Oa(c,N(c));c.b++;break;case 99:var C=y(c,c.b+1),oc=C++;r(c,oc,c.f);r(c,C,c.i);c.b+=3;break;case 103:C=N(c);ya=A(c,C);r(c,C,ya>>4|(c.c&15)<<4);c.c=c.c&240|ya&15;c.a=c.a&1|c.j[c.c];c.b++;break;
case 104:c.f=Z(c.port,c.d);c.a=c.a&1|c.j[c.f];c.b++;break;case 105:W(c.port,c.d,c.f);c.b++;break;case 106:Pa(c,N(c));c.b++;break;case 107:C=y(c,c.b+1);c.f=A(c,C++);c.i=A(c,C);c.b+=3;break;case 111:C=N(c);ya=A(c,C);r(c,C,(ya&15)<<4|c.c&15);c.c=c.c&240|ya>>4;c.a=c.a&1|c.j[c.c];c.b++;break;case 113:W(c.port,c.d,0);c.b++;break;case 114:Oa(c,c.k);c.b++;break;case 115:var C=y(c,c.b+1),pc=C++;r(c,pc,c.k&255);r(c,C,c.k>>8);c.b+=3;break;case 120:c.c=Z(c.port,c.d);c.a=c.a&1|c.j[c.c];c.b++;break;case 121:W(c.port,
c.d,c.c);c.b++;break;case 122:Pa(c,c.k);c.b++;break;case 123:c.k=y(c,y(c,c.b+1));c.b+=3;break;case 160:var qc=A(c,N(c));r(c,O(c),qc);Ya(c);Xa(c);Wa(c);c.a=c.a&193|(0!=P(c)?4:0);c.b++;break;case 161:t=c.a&1|2;Q(c,A(c,N(c)));Xa(c);Wa(c);t|=0==P(c)?0:4;c.a=c.a&248|t;c.b++;break;case 162:t=Z(c.port,c.d);r(c,N(c),t);c.e=H(c,c.e);Xa(c);c.a=128==(t&128)?c.a|2:c.a&-3;c.b++;break;case 163:t=A(c,N(c));W(c.port,c.d,t);Xa(c);c.e=H(c,c.e);255<c.f+t?(c.a|=1,c.a|=16):(c.a&=-2,c.a&=-17);c.a=128==(t&128)?c.a|2:c.a&
-3;c.b++;break;case 168:var rc=A(c,N(c));r(c,O(c),rc);Qa(c);K(c);Wa(c);c.a=c.a&193|(0!=P(c)?4:0);c.b++;break;case 169:t=c.a&1|2;Q(c,A(c,N(c)));K(c);Wa(c);t|=0==P(c)?0:4;c.a=c.a&248|t;c.b++;break;case 170:t=Z(c.port,c.d);r(c,N(c),t);c.e=H(c,c.e);K(c);c.a=0!=(t&128)?c.a|2:c.a&-3;c.b++;break;case 171:t=A(c,N(c));W(c.port,c.d,t);K(c);c.e=H(c,c.e);255<c.f+t?(c.a|=1,c.a|=16):(c.a&=-2,c.a&=-17);c.a=128==(t&128)?c.a|2:c.a&-3;c.b++;break;case 176:var sc=A(c,N(c));r(c,O(c),sc);Ya(c);Xa(c);Wa(c);0!=P(c)?(c.a|=
4,c.l-=5,c.b--):(c.a&=-5,c.b++);c.a&=-3;c.a&=-17;break;case 177:t=c.a&1|2;Q(c,A(c,N(c)));Xa(c);Wa(c);t|=0==P(c)?0:4;0!=(t&4)&&0==(c.a&64)?(c.l-=5,c.b--):c.b++;c.a=c.a&248|t;break;case 178:t=Z(c.port,c.d);r(c,N(c),t);c.e=H(c,c.e);Xa(c);0!=c.e?(c.l-=5,c.b--):c.b++;c.a=128==(t&128)?c.a|2:c.a&-3;break;case 179:t=A(c,N(c));W(c.port,c.d,t);c.e=H(c,c.e);Xa(c);0!=c.e?(c.l-=5,c.b--):c.b++;255<c.f+t?(c.a|=1,c.a|=16):(c.a&=-2,c.a&=-17);c.a=0!=(t&128)?c.a|2:c.a&-3;break;case 184:var tc=A(c,N(c));r(c,O(c),tc);
Qa(c);K(c);Wa(c);0!=P(c)?(c.a|=4,c.l-=5,c.b--):(c.a&=-5,c.b++);c.a&=-3;c.a&=-17;break;case 185:t=c.a&1|2;Q(c,A(c,N(c)));K(c);Wa(c);t|=0==P(c)?0:4;0!=(t&4)&&0==(c.a&64)?(c.l-=5,c.b--):c.b++;c.a=c.a&248|t;break;case 186:t=Z(c.port,c.d);r(c,N(c),t);c.e=H(c,c.e);K(c);0!=c.e?(c.l-=5,c.b--):c.b++;c.a=0!=(t&128)?c.a|2:c.a&-3;break;case 187:t=A(c,N(c));W(c.port,c.d,t);c.e=H(c,c.e);K(c);0!=c.e?(c.l-=5,c.b--):c.b++;255<c.f+t?(c.a|=1,c.a|=16):(c.a&=-2,c.a&=-17);c.a=0!=(t&128)?c.a|2:c.a&-3;break;default:c.b++}break;
case 238:a.a=a.j[a.c^=A(a,a.b++)];break;case 239:a.push(a.b);a.b=40;break;case 240:vb(a,0==(a.a&128));break;case 241:a.a=A(a,a.k++);a.c=A(a,a.k++);break;case 242:xb(a,0==(a.a&128));break;case 243:a.O=a.P=m;a.na=l;break;case 244:a.call(0==(a.a&128));break;case 245:a.push(a.c,a.a);break;case 246:a.a=a.j[a.c|=A(a,a.b++)];break;case 247:a.push(a.b);a.b=48;break;case 248:vb(a,0!=(a.a&128));break;case 249:a.k=N(a);break;case 250:xb(a,0!=(a.a&128));break;case 251:a.O=a.P=a.na=l;break;case 252:a.call(0!=
(a.a&128));break;case 253:var f=a,ub=A(a,a.b++),za=j,Va=j;f.l-=Ja[ub];switch(ub){case 9:Za(f,F(f,L(f),P(f)));break;case 25:Za(f,F(f,L(f),O(f)));break;case 33:Za(f,y(f,f.b));f.b+=2;break;case 34:var za=y(f,f.b),uc=za++;r(f,uc,f.o);r(f,za,f.q);f.b+=2;break;case 35:var Fa=f;Fa.o=Fa.o+1&255;0==Fa.o&&(Fa.q=Fa.q+1&255);break;case 36:f.q=J(f,f.q);break;case 37:f.q=H(f,f.q);break;case 38:f.q=A(f,f.b++);break;case 41:Za(f,F(f,L(f),L(f)));break;case 42:za=y(f,f.b);f.o=A(f,za);f.q=A(f,++za);f.b+=2;break;case 43:var Ga=
f;Ga.o=Ga.o-1&255;255==Ga.o&&(Ga.q=Ga.q-1&255);break;case 44:f.o=J(f,f.o);break;case 45:f.o=H(f,f.o);break;case 46:f.o=A(f,f.b++);break;case 52:kb(f,L(f)+z(f));f.b++;break;case 53:jb(f,L(f)+z(f));f.b++;break;case 54:var vc=L(f)+z(f),wc=A(f,++f.b);r(f,vc,wc);f.b++;break;case 57:Za(f,F(f,L(f),f.k));break;case 68:f.e=f.q;break;case 69:f.e=f.o;break;case 70:f.e=A(f,L(f)+z(f));f.b++;break;case 76:f.d=f.q;break;case 77:f.d=f.o;break;case 78:f.d=A(f,L(f)+z(f));f.b++;break;case 84:f.h=f.q;break;case 85:f.h=
f.o;break;case 86:f.h=A(f,L(f)+z(f));f.b++;break;case 92:f.g=f.q;break;case 93:f.g=f.o;break;case 94:f.g=A(f,L(f)+z(f));f.b++;break;case 96:f.q=f.e;break;case 97:f.q=f.d;break;case 98:f.q=f.h;break;case 99:f.q=f.g;break;case 100:break;case 101:f.q=f.o;break;case 102:f.i=A(f,L(f)+z(f));f.b++;break;case 103:f.q=f.c;break;case 104:f.o=f.e;break;case 105:f.o=f.d;break;case 106:f.o=f.h;break;case 107:f.o=f.g;break;case 108:f.o=f.q;break;case 109:break;case 110:f.f=A(f,L(f)+z(f));f.b++;break;case 111:f.o=
f.c;break;case 112:var xc=L(f)+z(f);r(f,xc,f.e);f.b++;break;case 113:var yc=L(f)+z(f);r(f,yc,f.d);f.b++;break;case 114:var zc=L(f)+z(f);r(f,zc,f.h);f.b++;break;case 115:var Ac=L(f)+z(f);r(f,Ac,f.g);f.b++;break;case 116:var Bc=L(f)+z(f);r(f,Bc,f.i);f.b++;break;case 117:var Cc=L(f)+z(f);r(f,Cc,f.f);f.b++;break;case 119:var Dc=L(f)+z(f);r(f,Dc,f.c);f.b++;break;case 124:f.c=f.q;break;case 125:f.c=f.o;break;case 126:f.c=A(f,L(f)+z(f));f.b++;break;case 132:x(f,f.q);break;case 133:x(f,f.o);break;case 134:x(f,
A(f,L(f)+z(f)));f.b++;break;case 140:S(f,f.q);break;case 141:S(f,f.o);break;case 142:S(f,A(f,L(f)+z(f)));f.b++;break;case 148:w(f,f.q);break;case 149:w(f,f.o);break;case 150:w(f,A(f,L(f)+z(f)));f.b++;break;case 156:R(f,f.q);break;case 157:R(f,f.o);break;case 158:R(f,A(f,L(f)+z(f)));f.b++;break;case 164:f.a=f.j[f.c&=f.q]|16;break;case 165:f.a=f.j[f.c&=f.o]|16;break;case 166:f.a=f.j[f.c&=A(f,L(f)+z(f))]|16;f.b++;break;case 172:f.a=f.j[f.c^=f.q];break;case 173:f.a=f.j[f.c^=f.o];break;case 174:f.a=f.j[f.c^=
A(f,L(f)+z(f))];f.b++;break;case 180:f.a=f.j[f.c|=f.q];break;case 181:f.a=f.j[f.c|=f.o];break;case 182:f.a=f.j[f.c|=A(f,L(f)+z(f))];f.b++;break;case 188:Q(f,f.q);break;case 189:Q(f,f.o);break;case 190:Q(f,A(f,L(f)+z(f)));f.b++;break;case 203:bb(f,L(f));break;case 225:Za(f,y(f,f.k));f.k+=2;break;case 227:Va=L(f);Za(f,y(f,f.k));r(f,f.k,Va&255);r(f,f.k+1,Va>>8);break;case 229:f.push(f.q,f.o);break;case 233:f.b=L(f);break;case 249:f.k=L(f);break;default:f.b--}break;case 254:Q(a,A(a,a.b++));break;case 255:a.push(a.b),
a.b=56}}};function fa(a){this.m=a;this.Nb=this.Mb=this.ga=this.r=this.s=0;this.Lb=this.Kb=m}
fa.prototype={reset:function(){this.ga=this.r=this.s=255;this.Ia=m},keydown:function(a){switch(a.keyCode){case 38:this.s&=-2;break;case 40:this.s&=-3;break;case 37:this.s&=-5;break;case 39:this.s&=-9;break;case 88:this.s&=-17;break;case 90:this.s&=-33;break;case 13:this.m.$?this.m.Ia=l:this.ga&=-129;break;case 104:this.r&=-2;break;case 98:this.r&=-3;break;case 100:this.r&=-5;break;case 102:this.r&=-9;break;case 103:this.r&=-17;break;case 105:this.r&=-33;break;case 97:this.r&=-65;break;default:return}a.preventDefault()},
keyup:function(a){switch(a.keyCode){case 38:this.s|=1;break;case 40:this.s|=2;break;case 37:this.s|=4;break;case 39:this.s|=8;break;case 88:this.s|=16;break;case 90:this.s|=32;break;case 13:this.m.$||(this.ga|=128);break;case 104:this.r|=1;break;case 98:this.r|=2;break;case 100:this.r|=4;break;case 102:this.r|=8;break;case 103:this.r|=16;break;case 105:this.r|=32;break;case 97:this.r|=64;break;default:return}a.preventDefault()}};var ka=Number.MIN_VALUE,yb=[25,20,16,13,10,8,6,5,4,3,3,2,2,1,1,0];function ha(a){this.m=a;this.M=this.nb=0;this.C=Array(8);this.G=0;this.A=Array(4);this.J=Array(4);this.fa=Array(3);this.la=16;this.V=32768;this.ma=Array(4)}
ha.prototype={write:function(a){0!=(a&128)?(this.G=a>>4&7,this.C[this.G]=this.C[this.G]&1008|a&15):this.C[this.G]=0==this.G||2==this.G||4==this.G?this.C[this.G]&15|(a&63)<<4:a&15;switch(this.G){case 0:case 2:case 4:0==this.C[this.G]&&(this.C[this.G]=1);break;case 6:this.la=16<<(this.C[6]&3),this.V=32768}},update:function(a,d){var g=[],h,k;for(h=0;h<d;h++){for(k=0;3>k;k++)this.ma[k]=this.fa[k]!=ka?yb[this.C[(k<<1)+1]]*this.fa[k]>>8:yb[this.C[(k<<1)+1]]*this.J[k];this.ma[3]=yb[this.C[7]]*(this.V&1)<<
1;k=this.ma[0]+this.ma[1]+this.ma[2]+this.ma[3];127<k?k=127:-128>k&&(k=-128);g[a+h]=k;this.M+=this.nb;var q=this.M>>8,n=q<<8;this.M-=n;this.A[0]-=q;this.A[1]-=q;this.A[2]-=q;this.A[3]=128==this.la?this.A[2]:this.A[3]-q;for(k=0;3>k;k++){var s=this.A[k];if(0>=s){var v=this.C[k<<1];6<v?(this.fa[k]=(n-this.M+512*s<<8)*this.J[k]/(n+this.M),this.J[k]=-this.J[k]):(this.J[k]=1,this.fa[k]=ka);this.A[k]+=v*(q/v+1)}else this.fa[k]=ka}0>=this.A[3]&&(this.J[3]=-this.J[3],128!=this.la&&(this.A[3]+=this.la*(q/this.la+
1)),1==this.J[3]&&(this.V=this.V>>1|(0!=(this.C[6]&4)?0!=(this.V&9)&&0!=(this.V&9^9)?1:0:this.V&1)<<15))}return g}};function ga(a){this.m=a;this.ib=0;this.B=Array(16384);this.H=Array(32);for(a=0;32>a;a++)this.H[a]=0;this.t=Array(16);this.status=0;this.Y=m;this.qa=this.ia=this.Ja=this.wa=this.location=this.N=0;this.oa=Array(256);this.X=Array(256);this.hb=this.Sa=0;this.display=Array(49152);this.tb=Array(64);this.lb=Array(256);this.mb=Array(16);this.ta=m;this.I=this.Za=this.Ga=0;this.R=m;this.ja=Array(192);for(a=0;192>a;a++)this.ja[a]=Array(25);this.Na=Array(512);this.va=Array(512);for(a=this.aa=this.ka=0;512>a;a++)this.Na[a]=
Array(64)}
ga.prototype={reset:function(){var a;this.ta=m;var d,g,h;if(this.m.$&&!this.ta)for(a=0;64>a;a++)d=a&3,g=a>>2&3,h=a>>4&3,this.tb[a]=85*d|85*g<<8|85*h<<16,this.ta=l;else if(this.m.S&&!this.ta){for(a=0;256>a;a++)g=a&15,h=a>>4&15,this.lb[a]=h<<12|h<<8|g<<4|g;for(a=0;16>a;a++)this.mb[a]=a<<20;this.ta=l}this.Y=l;for(a=this.wa=this.status=this.qa=this.location=0;16>a;a++)this.t[a]=0;this.t[2]=14;this.t[5]=126;this.hb=0;this.m.D.Q=m;this.R=l;this.ka=512;this.aa=-1;for(a=0;16384>a;a++)this.B[a]=0;for(a=0;49152>
a;a++)this.display[a]=0}};function zb(a){a.Sa=(a.t[2]&14)<<10;a.ka=0;a.aa=511;for(var d=0,g=a.va.length;d<g;d++)a.va[d]=l;a.I=(a.t[5]&-130)<<7;a.R=l};function ea(a){this.m=a;this.enable=ba();this.updateStatus=ba();this.Hb=ba();this.Ab=ba()}
"undefined"!==typeof $&&($.fn.Bb=function(a){function d(d){this.m=d;var k=this;d=$("<div></div>");var q=$('<div class="controls"></div>'),n=Ca(["fullscreenEnabled","mozFullScreenEnabled","webkitCancelFullScreen"]),s;this.jb=m;this.sb=Ca(["hidden","mozHidden","webkitHidden","msHidden"]);this.screen=$('<canvas width=256 height=192 class="screen"></canvas>');this.pa=this.screen[0].getContext("2d");if(this.pa.getImageData){this.Ca=this.pa.getImageData(0,0,256,192);this.Fb();this.xb=$("<div></div>");this.ca=
$("<select></select>");this.ca.change(function(){k.bb()});this.z={start:$('<input type="button" value="Stop" class="btn" disabled="disabled">'),wb:$('<input type="button" value="Restart" class="btn" disabled="disabled">'),gb:$('<input type="button" value="Enable sound" class="btn" disabled="disabled">'),zoom:$('<input type="button" value="Zoom in" class="btn">')};this.z.start.click(function(){k.m.ua?(k.m.stop(),k.updateStatus("Paused"),k.z.start.attr("value","Start")):(k.m.start(),k.z.start.attr("value",
"Stop"))});this.z.wb.click(function(){""!==k.m.eb&&""!==k.m.fb&&ua(k.m,k.m.eb,k.m.fb)?(k.m.reset(),zb(k.m.v),k.m.start()):$(this).attr("disabled","disabled")});this.z.gb.click(ba());this.z.zoom.click(function(){k.jb?(k.screen.animate({width:"256px",height:"192px"},function(){$(this).removeAttr("style")}),k.z.zoom.attr("value","Zoom in")):(k.screen.animate({width:"512px",height:"384px"}),k.z.zoom.attr("value","Zoom out"));k.jb=!k.jb});n&&(this.z.Jb=$('<input type="button" value="Go fullscreen" class="btn">').click(function(){var a=
k.screen[0];a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}));for(s in this.z)this.z.hasOwnProperty(s)&&this.z[s].appendTo(q);this.log=$('<div id="status"></div>');this.screen.appendTo(d);this.xb.appendTo(d);q.appendTo(d);this.log.appendTo(d);d.appendTo($(g));"undefined"!=typeof a&&this.Gb(a);$(document).bind("keydown",function(a){k.m.T.keydown(a)}).bind("keyup",function(a){k.m.T.keyup(a)})}else $(g).html('<div class="alert-message error"><p><strong>Oh no!</strong> Your browser doesn\'t support writing pixels directly to the <code>&lt;canvas&gt;</code> tag. Try the latest versions of Firefox, Google Chrome, Opera or Safari!</p></div>')}
var g=this;d.prototype={reset:function(){this.screen[0].width=256;this.screen[0].height=192;this.log.text("")},Fb:function(){this.pa.fillStyle="black";this.pa.fillRect(0,0,256,192);for(var a=3;a<=this.Ca.data.length-3;a+=4)this.Ca.data[a]=255},Gb:function(a){var d,g,n,s,v=0;this.ca.children().remove();$("<option>Select a ROM...</option>").appendTo(this.ca);for(d in a){if(a.hasOwnProperty(d)){g=$("<optgroup></optgroup>").attr("label",d);n=a[d].length;for(s=0;s<n;s++)$("<option>"+a[d][s][0]+"</option>").attr("value",
a[d][s][1]).appendTo(g);g.appendTo(this.ca)}v++}v&&this.ca.appendTo(this.xb)},bb:function(){var a=this;this.updateStatus("Downloading...");$.ajax({url:escape(this.ca.val()),xhr:function(){var d=$.ajaxSettings.xhr();"undefined"!==typeof d.overrideMimeType&&d.overrideMimeType("text/plain; charset=x-user-defined");return a.xhr=d},complete:function(d,g){var n;"error"===g?(a.updateStatus("The selected rom could not be loaded."),console.error(d.statusText)):(n=d.responseText,ua(a.m,n,a.ca.val()),a.m.reset(),
zb(a.m.v),a.m.start(),a.enable(),a.z.start.removeAttr("disabled"))}})},enable:function(){this.z.wb.removeAttr("disabled");this.m.La?this.z.gb.attr("value","Disable sound"):this.z.gb.attr("value","Enable sound")},updateStatus:function(a){this.log.text(a)},Hb:ba(),Ab:function(a){if(!this.sb||!document[this.sb]){var d=this.Ca.data,g,n,s;for(n=0;49152>=n;n++)g=a[n],s=4*n,d[s]=g&255,d[s+1]=g>>8&255,d[s+2]=g>>16&255;this.pa.putImageData(this.Ca,0,0)}}};return d});var Ab=0,Bb=["ms","moz","webkit","o"],Cb;
for(Cb=0;Cb<Bb.length&&!window.requestAnimationFrame;++Cb)window.requestAnimationFrame=window[Bb[Cb]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[Bb[Cb]+"CancelAnimationFrame"]||window[Bb[Cb]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(a){var d=va(),g=Math.max(0,16-(d-Ab)),h=window.setTimeout(function(){a(d+g)},g);Ab=d+g;return h});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)});function ia(a){this.m=a;this.v=a.v;this.xa=a.xa;this.T=a.T;this.qb=64;this.Eb=0;this.K=[]}ia.prototype={reset:function(){this.K=Array(2)}};
function Z(a,d){if(a.m.S&&7>d)switch(d){case 0:return a.T.ga&191|a.qb;case 1:case 2:case 3:case 4:case 5:return 0;case 6:return 255}switch(d&193){case 64:var g;a:{g=a.v;if(0==g.ib){if(218<g.ia){g=g.ia-6;break a}}else if(242<g.ia){g=g.ia-57;break a}g=g.ia}return g;case 65:return a.Eb;case 128:g=a.v;g.Y=l;var h=g.Ja;g.Ja=g.B[g.location++&16383]&255;return h;case 129:return g=a.v,g.Y=l,h=g.status,g.status=0,g.m.D.Q=m,h;case 192:return a.T.s;case 193:return a.T.r&63|a.K[0]|a.K[1]}return 255}
function W(a,d,g){if(!(a.m.S&&7>d))switch(d&193){case 1:a.K[0]=(g&32)<<1;a.K[1]=g&128;0==a.qb&&(a.K[0]=~a.K[0],a.K[1]=~a.K[1]);break;case 128:a=a.v;a.Y=l;switch(a.wa){case 0:case 1:case 2:d=a.location&16383;if(g!=(a.B[d]&255)){if(d>=a.I&&d<a.I+64)a.R=l;else if(d>=a.I+128&&d<a.I+256)a.R=l;else{var h=d>>5;a.va[h]=l;h<a.ka&&(a.ka=h);h>a.aa&&(a.aa=h)}a.B[d]=g}break;case 3:a.m.$?a.H[a.location&31]=a.tb[g&63]:a.m.S&&(a.H[(a.location&63)>>1]=0==(a.location&1)?a.lb[g]:a.H[(a.location&63)>>1]|a.mb[g&15])}a.Ja=
g;a.location++;break;case 129:a=a.v;if(a.Y)a.Y=m,a.N=g,a.location=a.location&16128|g;else if(a.Y=l,a.wa=g>>6&3,a.location=a.N|g<<8,0==a.wa)a.Ja=a.B[a.location++&16383]&255;else if(2==a.wa){g&=15;switch(g){case 0:0!=(a.status&4)&&(a.m.D.Q=0!=(a.N&16));break;case 1:0!=(a.status&128)&&0!=(a.N&32)&&(a.m.D.Q=l);(a.N&3)!=(a.t[g]&3)&&(a.R=l);break;case 2:a.Sa=(a.N&14)<<10;break;case 5:d=a.I,a.I=(a.N&-130)<<7,d!=a.I&&(a.R=l)}a.t[g]=a.N}break;case 64:case 65:a.m.La&&a.xa.write(g)}};window.JSSMS=da;jQuery.fn.JSSMSUI=jQuery.fn.Bb;
